{% extends "base_ligaturnen.html" %}

{% load crispy_forms_tags %}
{% block title %}
    Turnfest
{% endblock %}


{% block content %}

<div class="container-fluid">
        <p></p>
    <div class="row">
            <div class="col-sm-2"></div>
            <div class="col-sm-2"></div>
            <div class="col-sm-4"><h3 class="text-center">Startnummer suchen:</h3></div>
            <div class="col-sm-2"></div>
            <div class="col-sm-2"></div>
    </div>
    <p></p>

    <form action="{% url 'ligaturnen:ergebnis_erfassen_suche' %}" method="post">
        {% csrf_token %}

        <div class="row">
           <div class="col-sm-2"></div>
           <div class="col-sm-2">
                <label for="{{ form.startnummer.id_for_label }}" class="control-label">Startnummer:</label>
           </div>
            <div class="col-sm-3">
                    {{ form.startnummer }}
                    {{ form.startnummer.errors }}
            </div>
        </div>
        <div class="row">
           <div class="col-sm-2"></div>
           <div class="col-sm-2">
                <label for="{{ form.geraet.id_for_label }}" class="control-label">Gerät:</label>
           </div>
            <div class="col-sm-3">
                    {{ form.geraet }}
                    {{ form.geraet.errors }}
            </div>
        </div>
        <div class="row">
           <div class="col-sm-2"></div>
            <div class="col-sm-3"><button type="submit" class="btn btn-secondary btn-sm">suchen</button></div>
           <div class="col-sm-2"></div>
        </div>


    </form>
    <p></p>
    <p></p>
    <div class="row">
        <div class="col-sm-7"></div>
        <div class="col-sm-2 text-end">Zuletzt erfasstes Ergebnis:</div>
    </div>

    <div class="row">
        <div class="col-sm-7"></div>
        <div class="col-sm-2 text-end">{{ ergebnis.ergebnis_teilnehmer }}</div>
        <div class="col-sm-1 text-end">Summe:</div>
    </div>
    <div class="row">
        <div class="col-sm-7"></div>
        <div class="col-sm-2 text-end">Sprung:</div>
        <div class="col-sm-1 text-end">{{ ergebnis.ergebnis_sprung_s }}</div>
    </div>
    <div class="row">
        <div class="col-sm-7"></div>
        <div class="col-sm-2 text-end">Minitrampolin:</div>
        <div class="col-sm-1 text-end">{{ ergebnis.ergebnis_mini_s }}</div>
    </div>
    <div class="row">
        <div class="col-sm-7"></div>
        <div class="col-sm-2 text-end">Reck/Stufenbarren:</div>
        <div class="col-sm-1 text-end">{{ ergebnis.ergebnis_reck_s }}</div>
    </div>
    <div class="row">
        <div class="col-sm-7"></div>
        <div class="col-sm-2 text-end">Barren:</div>
        <div class="col-sm-1 text-end">{{ ergebnis.ergebnis_barren_s }}</div>
    </div>
    <div class="row">
        <div class="col-sm-7"></div>
        <div class="col-sm-2 text-end">Balken:</div>
        <div class="col-sm-1 text-end">{{ ergebnis.ergebnis_balken_s }}</div>
    </div>
    <div class="row">
        <div class="col-sm-7"></div>
        <div class="col-sm-2 text-end">Boden:</div>
        <div class="col-sm-1 text-end">{{ ergebnis.ergebnis_boden_s }}</div>
    </div>
    <div class="row">
        <div class="col-sm-7"></div>
        <div class="col-sm-2 text-end">Gesamt:</div>
        <div class="col-sm-1 mark text-end">{{ ergebnis.ergebnis_summe }}</div>
    </div>
</div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Wähle das Auswahlmenü aus
      const selectField = document.getElementById('id_geraet');

      // Setze den gewünschten Wert als ausgewählt (selected)
      const desiredValue = '{{ form.geraet_option}}';

      // Iteriere über die Optionen des Auswahlmenüs
      for (let i = 0; i < selectField.options.length; i++) {
        // Vergleiche den Wert jeder Option mit dem gewünschten Wert
        if (selectField.options[i].value === desiredValue) {
          // Setze die ausgewählte Option
          selectField.options[i].selected = true;
          // Breche die Schleife ab, da der Wert gefunden wurde
          break;
        }
      }
    });
  </script>
{% endblock %}